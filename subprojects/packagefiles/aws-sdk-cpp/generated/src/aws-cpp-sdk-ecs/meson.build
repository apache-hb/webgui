src = files(
    'source/ECSErrors.cpp',
    'source/ECSClient.cpp',
    'source/ECSEndpointRules.cpp',
    'source/ECSRequest.cpp',
    'source/ECSEndpointProvider.cpp',
    'source/ECSErrorMarshaller.cpp',
    'source/model/DeleteCapacityProviderResult.cpp',
    'source/model/RepositoryCredentials.cpp',
    'source/model/ClusterSetting.cpp',
    'source/model/ListTaskDefinitionFamiliesRequest.cpp',
    'source/model/ConflictException.cpp',
    'source/model/InstanceRequirementsRequest.cpp',
    'source/model/DescribeTasksResult.cpp',
    'source/model/UpdateContainerAgentRequest.cpp',
    'source/model/RegisterContainerInstanceResult.cpp',
    'source/model/TaskDefinitionPlacementConstraintType.cpp',
    'source/model/CreateClusterRequest.cpp',
    'source/model/BaselineEbsBandwidthMbpsRequest.cpp',
    'source/model/TaskDefinition.cpp',
    'source/model/StopServiceDeploymentResult.cpp',
    'source/model/NetworkBandwidthGbpsRequest.cpp',
    'source/model/PutAccountSettingDefaultResult.cpp',
    'source/model/OSFamily.cpp',
    'source/model/Compatibility.cpp',
    'source/model/DescribeContainerInstancesResult.cpp',
    'source/model/CreateCapacityProviderResult.cpp',
    'source/model/UpdateContainerInstancesStateResult.cpp',
    'source/model/ManagedAgentName.cpp',
    'source/model/DeregisterContainerInstanceRequest.cpp',
    'source/model/UlimitName.cpp',
    'source/model/EFSVolumeConfiguration.cpp',
    'source/model/ContainerInstanceStatus.cpp',
    'source/model/ExecuteCommandConfiguration.cpp',
    'source/model/Secret.cpp',
    'source/model/ListAttributesResult.cpp',
    'source/model/DeregisterContainerInstanceResult.cpp',
    'source/model/ContainerImage.cpp',
    'source/model/ServiceConnectTlsCertificateAuthority.cpp',
    'source/model/ListAccountSettingsRequest.cpp',
    'source/model/PlacementStrategy.cpp',
    'source/model/ManagedDraining.cpp',
    'source/model/DeploymentEphemeralStorage.cpp',
    'source/model/Scale.cpp',
    'source/model/InstanceLaunchTemplate.cpp',
    'source/model/ContainerStateChange.cpp',
    'source/model/AcceleratorManufacturer.cpp',
    'source/model/ServiceConnectTestTrafficHeaderRules.cpp',
    'source/model/SettingType.cpp',
    'source/model/ListAttributesRequest.cpp',
    'source/model/TaskDefinitionStatus.cpp',
    'source/model/ProxyConfigurationType.cpp',
    'source/model/StopTaskRequest.cpp',
    'source/model/StabilityStatus.cpp',
    'source/model/ListServicesByNamespaceRequest.cpp',
    'source/model/CanaryConfiguration.cpp',
    'source/model/AutoScalingGroupProvider.cpp',
    'source/model/LocalStorage.cpp',
    'source/model/CreatedAt.cpp',
    'source/model/UpdateServiceRequest.cpp',
    'source/model/LocalStorageType.cpp',
    'source/model/ProtectedTask.cpp',
    'source/model/ManagedInstancesMonitoringOptions.cpp',
    'source/model/DescribeClustersResult.cpp',
    'source/model/DescribeServicesResult.cpp',
    'source/model/StopServiceDeploymentRequest.cpp',
    'source/model/UpdateTaskProtectionResult.cpp',
    'source/model/ServiceField.cpp',
    'source/model/RegisterTaskDefinitionRequest.cpp',
    'source/model/EnvironmentFile.cpp',
    'source/model/TimeoutConfiguration.cpp',
    'source/model/ServiceRegistry.cpp',
    'source/model/FirelensConfigurationType.cpp',
    'source/model/ServiceConnectClientAlias.cpp',
    'source/model/NetworkInterface.cpp',
    'source/model/HealthCheck.cpp',
    'source/model/ListClustersResult.cpp',
    'source/model/ListTaskDefinitionsResult.cpp',
    'source/model/EFSTransitEncryption.cpp',
    'source/model/ListTaskDefinitionsRequest.cpp',
    'source/model/ScaleUnit.cpp',
    'source/model/NetworkConfiguration.cpp',
    'source/model/UpdateContainerAgentResult.cpp',
    'source/model/ServiceEvent.cpp',
    'source/model/DeploymentLifecycleHookStage.cpp',
    'source/model/ServiceDeploymentBrief.cpp',
    'source/model/InferenceAccelerator.cpp',
    'source/model/ServiceDeployment.cpp',
    'source/model/ListContainerInstancesRequest.cpp',
    'source/model/TaskEphemeralStorage.cpp',
    'source/model/RegisterTaskDefinitionResult.cpp',
    'source/model/ManagedAgent.cpp',
    'source/model/AvailabilityZoneRebalancing.cpp',
    'source/model/DescribeServiceRevisionsResult.cpp',
    'source/model/KeyValuePair.cpp',
    'source/model/Session.cpp',
    'source/model/DescribeTasksRequest.cpp',
    'source/model/PutAccountSettingRequest.cpp',
    'source/model/Deployment.cpp',
    'source/model/UpdateTaskSetRequest.cpp',
    'source/model/CreateCapacityProviderRequest.cpp',
    'source/model/DescribeServiceRevisionsRequest.cpp',
    'source/model/UpdateClusterResult.cpp',
    'source/model/SubmitContainerStateChangeRequest.cpp',
    'source/model/ServiceConnectTestTrafficRules.cpp',
    'source/model/CpuManufacturer.cpp',
    'source/model/SubmitContainerStateChangeResult.cpp',
    'source/model/ManagedScaling.cpp',
    'source/model/ServiceConnectTestTrafficHeaderMatchRules.cpp',
    'source/model/NetworkBinding.cpp',
    'source/model/TagResourceRequest.cpp',
    'source/model/StartTaskRequest.cpp',
    'source/model/DeploymentStrategy.cpp',
    'source/model/ServiceConnectServiceResource.cpp',
    'source/model/TaskDefinitionField.cpp',
    'source/model/Task.cpp',
    'source/model/TaskDefinitionFamilyStatus.cpp',
    'source/model/LinuxParameters.cpp',
    'source/model/InstanceHealthCheckState.cpp',
    'source/model/ListTasksRequest.cpp',
    'source/model/ExecuteCommandRequest.cpp',
    'source/model/TaskDefinitionPlacementConstraint.cpp',
    'source/model/AcceleratorCountRequest.cpp',
    'source/model/UntagResourceResult.cpp',
    'source/model/InstanceGeneration.cpp',
    'source/model/TaskManagedEBSVolumeConfiguration.cpp',
    'source/model/CreateTaskSetRequest.cpp',
    'source/model/DockerVolumeConfiguration.cpp',
    'source/model/DescribeTaskSetsResult.cpp',
    'source/model/ServiceConnectAccessLogConfiguration.cpp',
    'source/model/DeviceCgroupPermission.cpp',
    'source/model/Connectivity.cpp',
    'source/model/FirelensConfiguration.cpp',
    'source/model/DeploymentAlarms.cpp',
    'source/model/CreateManagedInstancesProviderConfiguration.cpp',
    'source/model/HostVolumeProperties.cpp',
    'source/model/EBSResourceType.cpp',
    'source/model/PlacementConstraintType.cpp',
    'source/model/ResourceRequirement.cpp',
    'source/model/ContainerInstanceField.cpp',
    'source/model/ContainerDefinition.cpp',
    'source/model/DeploymentConfiguration.cpp',
    'source/model/TargetType.cpp',
    'source/model/TaskSet.cpp',
    'source/model/DeleteAccountSettingRequest.cpp',
    'source/model/DeleteTaskSetRequest.cpp',
    'source/model/PutClusterCapacityProvidersResult.cpp',
    'source/model/ListServicesRequest.cpp',
    'source/model/TaskFilesystemType.cpp',
    'source/model/ServiceDeploymentAlarms.cpp',
    'source/model/DescribeTaskSetsRequest.cpp',
    'source/model/Device.cpp',
    'source/model/UpdateServicePrimaryTaskSetRequest.cpp',
    'source/model/ClusterConfiguration.cpp',
    'source/model/ServiceDeploymentLifecycleStage.cpp',
    'source/model/StartTaskResult.cpp',
    'source/model/ResourceType.cpp',
    'source/model/ManagedStorageConfiguration.cpp',
    'source/model/DeleteTaskSetResult.cpp',
    'source/model/SortOrder.cpp',
    'source/model/Resource.cpp',
    'source/model/DescribeTaskDefinitionRequest.cpp',
    'source/model/ListTasksResult.cpp',
    'source/model/PutAccountSettingResult.cpp',
    'source/model/DiscoverPollEndpointResult.cpp',
    'source/model/DeploymentControllerType.cpp',
    'source/model/ListClustersRequest.cpp',
    'source/model/StopTaskResult.cpp',
    'source/model/LaunchType.cpp',
    'source/model/ListServicesByNamespaceResult.cpp',
    'source/model/UpdateClusterSettingsRequest.cpp',
    'source/model/PlatformDeviceType.cpp',
    'source/model/ManagedTerminationProtection.cpp',
    'source/model/SubmitTaskStateChangeRequest.cpp',
    'source/model/PropagateTags.cpp',
    'source/model/ProxyConfiguration.cpp',
    'source/model/DeleteAttributesResult.cpp',
    'source/model/AssignPublicIp.cpp',
    'source/model/DescribeServiceDeploymentsRequest.cpp',
    'source/model/ListAccountSettingsResult.cpp',
    'source/model/ContainerOverride.cpp',
    'source/model/ServiceVolumeConfiguration.cpp',
    'source/model/ServiceConnectTlsConfiguration.cpp',
    'source/model/CapacityProviderUpdateStatus.cpp',
    'source/model/TaskStopCode.cpp',
    'source/model/RunTaskResult.cpp',
    'source/model/VpcLatticeConfiguration.cpp',
    'source/model/DeleteClusterRequest.cpp',
    'source/model/EFSAuthorizationConfig.cpp',
    'source/model/BareMetal.cpp',
    'source/model/DeleteCapacityProviderRequest.cpp',
    'source/model/UpdateContainerInstancesStateRequest.cpp',
    'source/model/CapacityProviderType.cpp',
    'source/model/UpdateClusterSettingsResult.cpp',
    'source/model/TotalLocalStorageGBRequest.cpp',
    'source/model/DeleteServiceRequest.cpp',
    'source/model/CapacityProviderStrategyItem.cpp',
    'source/model/ApplicationProtocol.cpp',
    'source/model/GetTaskProtectionRequest.cpp',
    'source/model/InferenceAcceleratorOverride.cpp',
    'source/model/CapacityProviderField.cpp',
    'source/model/VersionInfo.cpp',
    'source/model/ListTagsForResourceResult.cpp',
    'source/model/UpdateClusterRequest.cpp',
    'source/model/DeploymentRolloutState.cpp',
    'source/model/PlacementStrategyType.cpp',
    'source/model/ManagedAgentStateChange.cpp',
    'source/model/Tmpfs.cpp',
    'source/model/PlatformDevice.cpp',
    'source/model/AttachmentStateChange.cpp',
    'source/model/ListTaskDefinitionFamiliesResult.cpp',
    'source/model/ServiceDeploymentStatus.cpp',
    'source/model/ListServiceDeploymentsResult.cpp',
    'source/model/ClusterField.cpp',
    'source/model/DeleteTaskDefinitionsRequest.cpp',
    'source/model/DeploymentController.cpp',
    'source/model/AdvancedConfiguration.cpp',
    'source/model/TaskManagedEBSVolumeTerminationPolicy.cpp',
    'source/model/PortMapping.cpp',
    'source/model/StopServiceDeploymentStopType.cpp',
    'source/model/UpdateTaskSetResult.cpp',
    'source/model/EBSTagSpecification.cpp',
    'source/model/VersionConsistency.cpp',
    'source/model/CapacityProvider.cpp',
    'source/model/LogConfiguration.cpp',
    'source/model/MemoryMiBRequest.cpp',
    'source/model/Volume.cpp',
    'source/model/TransportProtocol.cpp',
    'source/model/ExecuteCommandLogConfiguration.cpp',
    'source/model/ExecuteCommandResult.cpp',
    'source/model/MemoryGiBPerVCpuRequest.cpp',
    'source/model/AcceleratorType.cpp',
    'source/model/HealthStatus.cpp',
    'source/model/Attribute.cpp',
    'source/model/ClusterSettingName.cpp',
    'source/model/DeleteClusterResult.cpp',
    'source/model/ServiceRevision.cpp',
    'source/model/CapacityProviderStatus.cpp',
    'source/model/ListContainerInstancesResult.cpp',
    'source/model/DescribeCapacityProvidersRequest.cpp',
    'source/model/UpdateManagedInstancesProviderConfiguration.cpp',
    'source/model/CPUArchitecture.cpp',
    'source/model/LoadBalancer.cpp',
    'source/model/ServiceConnectService.cpp',
    'source/model/DescribeContainerInstancesRequest.cpp',
    'source/model/LinearConfiguration.cpp',
    'source/model/SchedulingStrategy.cpp',
    'source/model/SubmitAttachmentStateChangesRequest.cpp',
    'source/model/DeregisterTaskDefinitionResult.cpp',
    'source/model/ContainerInstance.cpp',
    'source/model/ServiceManagedEBSVolumeConfiguration.cpp',
    'source/model/PutClusterCapacityProvidersRequest.cpp',
    'source/model/InstanceHealthCheckResult.cpp',
    'source/model/DescribeServicesRequest.cpp',
    'source/model/InstanceHealthCheckType.cpp',
    'source/model/ManagedScalingStatus.cpp',
    'source/model/PutAttributesResult.cpp',
    'source/model/PlacementConstraint.cpp',
    'source/model/CreateServiceResult.cpp',
    'source/model/RunTaskRequest.cpp',
    'source/model/FSxWindowsFileServerAuthorizationConfig.cpp',
    'source/model/TaskSetField.cpp',
    'source/model/InstanceLaunchTemplateUpdate.cpp',
    'source/model/DeleteTaskDefinitionsResult.cpp',
    'source/model/DescribeCapacityProvidersResult.cpp',
    'source/model/IpcMode.cpp',
    'source/model/ContainerInstanceHealthStatus.cpp',
    'source/model/DeregisterTaskDefinitionRequest.cpp',
    'source/model/VCpuCountRangeRequest.cpp',
    'source/model/UpdateCapacityProviderResult.cpp',
    'source/model/UpdateCapacityProviderRequest.cpp',
    'source/model/SystemControl.cpp',
    'source/model/Failure.cpp',
    'source/model/MountPoint.cpp',
    'source/model/FSxWindowsFileServerVolumeConfiguration.cpp',
    'source/model/ContainerRestartPolicy.cpp',
    'source/model/SettingName.cpp',
    'source/model/UntagResourceRequest.cpp',
    'source/model/SubmitAttachmentStateChangesResult.cpp',
    'source/model/Rollback.cpp',
    'source/model/ServiceRevisionSummary.cpp',
    'source/model/Attachment.cpp',
    'source/model/ManagedInstancesProvider.cpp',
    'source/model/ManagedInstancesStorageConfiguration.cpp',
    'source/model/ClusterServiceConnectDefaultsRequest.cpp',
    'source/model/AcceleratorName.cpp',
    'source/model/ServiceDeploymentCircuitBreaker.cpp',
    'source/model/DescribeTaskDefinitionResult.cpp',
    'source/model/NetworkInterfaceCountRequest.cpp',
    'source/model/ServiceConnectAccessLoggingFormat.cpp',
    'source/model/LogDriver.cpp',
    'source/model/DeleteServiceResult.cpp',
    'source/model/DeploymentLifecycleHook.cpp',
    'source/model/AcceleratorTotalMemoryMiBRequest.cpp',
    'source/model/ListServiceDeploymentsRequest.cpp',
    'source/model/GetTaskProtectionResult.cpp',
    'source/model/DescribeServiceDeploymentsResult.cpp',
    'source/model/Service.cpp',
    'source/model/ContainerDependency.cpp',
    'source/model/Container.cpp',
    'source/model/ManagedInstancesNetworkConfiguration.cpp',
    'source/model/DesiredStatus.cpp',
    'source/model/ListTagsForResourceRequest.cpp',
    'source/model/Setting.cpp',
    'source/model/ServiceConnectConfiguration.cpp',
    'source/model/ListServicesResult.cpp',
    'source/model/Scope.cpp',
    'source/model/AgentUpdateStatus.cpp',
    'source/model/TaskField.cpp',
    'source/model/ContainerCondition.cpp',
    'source/model/PutAccountSettingDefaultRequest.cpp',
    'source/model/Cluster.cpp',
    'source/model/RuntimePlatform.cpp',
    'source/model/EphemeralStorage.cpp',
    'source/model/Ulimit.cpp',
    'source/model/NetworkMode.cpp',
    'source/model/BurstablePerformance.cpp',
    'source/model/CreateClusterResult.cpp',
    'source/model/DiscoverPollEndpointRequest.cpp',
    'source/model/DeleteAccountSettingResult.cpp',
    'source/model/PropagateMITags.cpp',
    'source/model/DeleteAttributesRequest.cpp',
    'source/model/AwsVpcConfiguration.cpp',
    'source/model/KernelCapabilities.cpp',
    'source/model/ClusterServiceConnectDefaults.cpp',
    'source/model/PidMode.cpp',
    'source/model/AutoScalingGroupProviderUpdate.cpp',
    'source/model/ServiceDeploymentRollbackMonitorsStatus.cpp',
    'source/model/DeploymentCircuitBreaker.cpp',
    'source/model/EFSAuthorizationConfigIAM.cpp',
    'source/model/SubmitTaskStateChangeResult.cpp',
    'source/model/PutAttributesRequest.cpp',
    'source/model/CreateServiceRequest.cpp',
    'source/model/RegisterContainerInstanceRequest.cpp',
    'source/model/ResolvedConfiguration.cpp',
    'source/model/UpdateServicePrimaryTaskSetResult.cpp',
    'source/model/VolumeFrom.cpp',
    'source/model/EnvironmentFileType.cpp',
    'source/model/ExecuteCommandLogging.cpp',
    'source/model/Tag.cpp',
    'source/model/TaskOverride.cpp',
    'source/model/TagResourceResult.cpp',
    'source/model/UpdateServiceResult.cpp',
    'source/model/ServiceConnectIncludeQueryParameters.cpp',
    'source/model/HostEntry.cpp',
    'source/model/UpdateTaskProtectionRequest.cpp',
    'source/model/CreateTaskSetResult.cpp',
    'source/model/TaskVolumeConfiguration.cpp',
    'source/model/DescribeClustersRequest.cpp',
    'source/model/ServiceRevisionLoadBalancer.cpp'
)

inc = include_directories('include')

if host_machine.system() == 'windows' and get_option('default_library') == 'shared'
    cpp_args = ['-DAWS_ECS_EXPORTS=1']
else
    cpp_args = []
endif

libaws_cpp_sdk_ecs = library(
    'aws-cpp-sdk-ecs',
    src,
    include_directories: inc,
    cpp_args: cpp_args + public_cpp_args,
    dependencies: [aws_cpp_sdk_core_dep],
    install: true,
    version: meson.project_version(),
)

aws_cpp_sdk_ecs_dep = declare_dependency(
    include_directories: inc,
    link_with: libaws_cpp_sdk_ecs,
    dependencies: [aws_cpp_sdk_core_dep],
    compile_args: public_cpp_args,
)

meson.override_dependency('aws-cpp-sdk-ecs', aws_cpp_sdk_ecs_dep)
