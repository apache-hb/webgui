src = files(
    'source/ElasticLoadBalancingv2EndpointRules.cpp',
    'source/ElasticLoadBalancingv2EndpointProvider.cpp',
    'source/ElasticLoadBalancingv2Request.cpp',
    'source/ElasticLoadBalancingv2Errors.cpp',
    'source/ElasticLoadBalancingv2ErrorMarshaller.cpp',
    'source/ElasticLoadBalancingv2Client.cpp',
    'source/model/LoadBalancerStateEnum.cpp',
    'source/model/DescribeTargetGroupsResult.cpp',
    'source/model/SetIpAddressTypeRequest.cpp',
    'source/model/LoadBalancerTypeEnum.cpp',
    'source/model/ModifyRuleResult.cpp',
    'source/model/ModifyRuleRequest.cpp',
    'source/model/AddTrustStoreRevocationsResult.cpp',
    'source/model/MitigationInEffectEnum.cpp',
    'source/model/RuleTransform.cpp',
    'source/model/DeleteTargetGroupRequest.cpp',
    'source/model/ModifyCapacityReservationResult.cpp',
    'source/model/ModifyTargetGroupAttributesResult.cpp',
    'source/model/AdministrativeOverride.cpp',
    'source/model/CreateListenerRequest.cpp',
    'source/model/AddListenerCertificatesRequest.cpp',
    'source/model/TargetGroupAttribute.cpp',
    'source/model/GetTrustStoreCaCertificatesBundleResult.cpp',
    'source/model/DescribeTrustStoresResult.cpp',
    'source/model/ModifyListenerAttributesResult.cpp',
    'source/model/ModifyListenerRequest.cpp',
    'source/model/DeleteRuleResult.cpp',
    'source/model/SetRulePrioritiesResult.cpp',
    'source/model/Matcher.cpp',
    'source/model/AnomalyResultEnum.cpp',
    'source/model/CreateRuleResult.cpp',
    'source/model/DescribeAccountLimitsResult.cpp',
    'source/model/DescribeListenerAttributesResult.cpp',
    'source/model/Certificate.cpp',
    'source/model/QueryStringConditionConfig.cpp',
    'source/model/TargetHealthStateEnum.cpp',
    'source/model/DescribeRulesResult.cpp',
    'source/model/DescribeTargetGroupAttributesResult.cpp',
    'source/model/DeleteListenerResult.cpp',
    'source/model/DescribeSSLPoliciesRequest.cpp',
    'source/model/TargetGroupStickinessConfig.cpp',
    'source/model/DescribeLoadBalancersResult.cpp',
    'source/model/DescribeTargetHealthResult.cpp',
    'source/model/TrustStore.cpp',
    'source/model/RemoveListenerCertificatesRequest.cpp',
    'source/model/AddTrustStoreRevocationsRequest.cpp',
    'source/model/TargetHealthDescription.cpp',
    'source/model/SslPolicy.cpp',
    'source/model/TrustStoreAssociationStatusEnum.cpp',
    'source/model/RemoveIpamPoolEnum.cpp',
    'source/model/ResponseMetadata.cpp',
    'source/model/DeleteTrustStoreRequest.cpp',
    'source/model/AddTagsRequest.cpp',
    'source/model/ModifyIpPoolsRequest.cpp',
    'source/model/SetSubnetsRequest.cpp',
    'source/model/ForwardActionConfig.cpp',
    'source/model/TransformTypeEnum.cpp',
    'source/model/AddTagsResult.cpp',
    'source/model/CreateTrustStoreResult.cpp',
    'source/model/TrustStoreRevocation.cpp',
    'source/model/TargetHealth.cpp',
    'source/model/AnomalyDetection.cpp',
    'source/model/SetSecurityGroupsResult.cpp',
    'source/model/DeregisterTargetsResult.cpp',
    'source/model/EnforceSecurityGroupInboundRulesOnPrivateLinkTrafficEnum.cpp',
    'source/model/HttpRequestMethodConditionConfig.cpp',
    'source/model/CreateLoadBalancerResult.cpp',
    'source/model/DescribeTrustStoreAssociationsResult.cpp',
    'source/model/GetResourcePolicyRequest.cpp',
    'source/model/AddListenerCertificatesResult.cpp',
    'source/model/DescribeTargetGroupsRequest.cpp',
    'source/model/DescribeTrustStoreRevocation.cpp',
    'source/model/SetRulePrioritiesRequest.cpp',
    'source/model/GetTrustStoreRevocationContentResult.cpp',
    'source/model/RulePriorityPair.cpp',
    'source/model/DescribeListenersRequest.cpp',
    'source/model/PathPatternConditionConfig.cpp',
    'source/model/LoadBalancerSchemeEnum.cpp',
    'source/model/IpamPools.cpp',
    'source/model/DescribeTrustStoresRequest.cpp',
    'source/model/RewriteConfig.cpp',
    'source/model/RevocationType.cpp',
    'source/model/DescribeCapacityReservationRequest.cpp',
    'source/model/CreateRuleRequest.cpp',
    'source/model/AdvertiseTrustStoreCaNamesEnum.cpp',
    'source/model/SetSecurityGroupsRequest.cpp',
    'source/model/RedirectActionConfig.cpp',
    'source/model/ModifyLoadBalancerAttributesRequest.cpp',
    'source/model/ModifyIpPoolsResult.cpp',
    'source/model/DescribeTagsResult.cpp',
    'source/model/SetIpAddressTypeResult.cpp',
    'source/model/DescribeRulesRequest.cpp',
    'source/model/GetResourcePolicyResult.cpp',
    'source/model/DeleteLoadBalancerRequest.cpp',
    'source/model/DescribeTrustStoreAssociationsRequest.cpp',
    'source/model/GetTrustStoreCaCertificatesBundleRequest.cpp',
    'source/model/HttpHeaderConditionConfig.cpp',
    'source/model/TrustStoreStatus.cpp',
    'source/model/DeleteTargetGroupResult.cpp',
    'source/model/Listener.cpp',
    'source/model/DeleteRuleRequest.cpp',
    'source/model/DescribeListenerAttributesRequest.cpp',
    'source/model/LoadBalancerState.cpp',
    'source/model/Action.cpp',
    'source/model/UrlRewriteConfig.cpp',
    'source/model/CreateTargetGroupResult.cpp',
    'source/model/QueryStringKeyValuePair.cpp',
    'source/model/RevocationContent.cpp',
    'source/model/DescribeTrustStoreRevocationsResult.cpp',
    'source/model/DeleteSharedTrustStoreAssociationRequest.cpp',
    'source/model/DeleteSharedTrustStoreAssociationResult.cpp',
    'source/model/RedirectActionStatusCodeEnum.cpp',
    'source/model/TargetGroup.cpp',
    'source/model/DescribeLoadBalancersRequest.cpp',
    'source/model/DescribeTargetHealthInputIncludeEnum.cpp',
    'source/model/RegisterTargetsRequest.cpp',
    'source/model/DescribeLoadBalancerAttributesResult.cpp',
    'source/model/TargetTypeEnum.cpp',
    'source/model/DescribeTrustStoreRevocationsRequest.cpp',
    'source/model/TargetAdministrativeOverrideReasonEnum.cpp',
    'source/model/CapacityReservationStatus.cpp',
    'source/model/TargetGroupIpAddressTypeEnum.cpp',
    'source/model/TagDescription.cpp',
    'source/model/ModifyCapacityReservationRequest.cpp',
    'source/model/LoadBalancer.cpp',
    'source/model/Rule.cpp',
    'source/model/TargetAdministrativeOverrideStateEnum.cpp',
    'source/model/AuthenticateOidcActionConditionalBehaviorEnum.cpp',
    'source/model/RemoveTrustStoreRevocationsResult.cpp',
    'source/model/DescribeTagsRequest.cpp',
    'source/model/CreateTrustStoreRequest.cpp',
    'source/model/CapacityReservationStateEnum.cpp',
    'source/model/RegisterTargetsResult.cpp',
    'source/model/ModifyTargetGroupRequest.cpp',
    'source/model/ListenerAttribute.cpp',
    'source/model/DescribeSSLPoliciesResult.cpp',
    'source/model/AuthenticateCognitoActionConditionalBehaviorEnum.cpp',
    'source/model/RemoveListenerCertificatesResult.cpp',
    'source/model/RemoveTagsResult.cpp',
    'source/model/DescribeListenerCertificatesResult.cpp',
    'source/model/ModifyTargetGroupResult.cpp',
    'source/model/TargetHealthReasonEnum.cpp',
    'source/model/DeleteListenerRequest.cpp',
    'source/model/TargetGroupTuple.cpp',
    'source/model/RuleCondition.cpp',
    'source/model/CreateTargetGroupRequest.cpp',
    'source/model/HostHeaderConditionConfig.cpp',
    'source/model/RemoveTrustStoreRevocationsRequest.cpp',
    'source/model/AuthenticateOidcActionConfig.cpp',
    'source/model/ModifyListenerAttributesRequest.cpp',
    'source/model/ModifyListenerResult.cpp',
    'source/model/LoadBalancerAttribute.cpp',
    'source/model/EnablePrefixForIpv6SourceNatEnum.cpp',
    'source/model/IpAddressType.cpp',
    'source/model/DescribeListenersResult.cpp',
    'source/model/CreateListenerResult.cpp',
    'source/model/DeregisterTargetsRequest.cpp',
    'source/model/DescribeTargetGroupAttributesRequest.cpp',
    'source/model/AvailabilityZone.cpp',
    'source/model/DescribeLoadBalancerAttributesRequest.cpp',
    'source/model/MinimumLoadBalancerCapacity.cpp',
    'source/model/MutualAuthenticationAttributes.cpp',
    'source/model/ModifyLoadBalancerAttributesResult.cpp',
    'source/model/LoadBalancerAddress.cpp',
    'source/model/SubnetMapping.cpp',
    'source/model/DescribeCapacityReservationResult.cpp',
    'source/model/HostHeaderRewriteConfig.cpp',
    'source/model/RemoveTagsRequest.cpp',
    'source/model/ActionTypeEnum.cpp',
    'source/model/SourceIpConditionConfig.cpp',
    'source/model/TrustStoreAssociation.cpp',
    'source/model/ProtocolEnum.cpp',
    'source/model/TargetDescription.cpp',
    'source/model/DeleteLoadBalancerResult.cpp',
    'source/model/Limit.cpp',
    'source/model/DescribeAccountLimitsRequest.cpp',
    'source/model/ModifyTrustStoreResult.cpp',
    'source/model/ModifyTrustStoreRequest.cpp',
    'source/model/CreateLoadBalancerRequest.cpp',
    'source/model/DeleteTrustStoreResult.cpp',
    'source/model/SetSubnetsResult.cpp',
    'source/model/AuthenticateCognitoActionConfig.cpp',
    'source/model/ZonalCapacityReservationState.cpp',
    'source/model/Tag.cpp',
    'source/model/GetTrustStoreRevocationContentRequest.cpp',
    'source/model/DescribeTargetHealthRequest.cpp',
    'source/model/ModifyTargetGroupAttributesRequest.cpp',
    'source/model/DescribeListenerCertificatesRequest.cpp',
    'source/model/Cipher.cpp',
    'source/model/FixedResponseActionConfig.cpp'
)

inc = include_directories('include')

if host_machine.system() == 'windows' and get_option('default_library') == 'shared'
    cpp_args = ['-DAWS_ELASTICLOADBALANCINGV2_EXPORTS=1']
else
    cpp_args = []
endif

libaws_cpp_sdk_elasticloadbalancingv2 = library(
    'aws-cpp-sdk-elasticloadbalancingv2',
    src,
    include_directories: inc,
    cpp_args: cpp_args + public_cpp_args,
    dependencies: [aws_cpp_sdk_core_dep],
    install: true,
    version: meson.project_version(),
)

aws_cpp_sdk_elasticloadbalancingv2_dep = declare_dependency(
    include_directories: inc,
    link_with: libaws_cpp_sdk_elasticloadbalancingv2,
    dependencies: [aws_cpp_sdk_core_dep],
    compile_args: public_cpp_args,
)

meson.override_dependency('aws-cpp-sdk-elasticloadbalancingv2', aws_cpp_sdk_elasticloadbalancingv2_dep)

pkgs += {
    'aws-cpp-sdk-elasticloadbalancingv2': {
        'lib': libaws_cpp_sdk_elasticloadbalancingv2,
        'extra_cflags': public_cpp_args,
    }
}
