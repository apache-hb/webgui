src = files(
    'source/CloudWatchLogsClient.cpp',
    'source/CloudWatchLogsEndpointProvider.cpp',
    'source/CloudWatchLogsEndpointRules.cpp',
    'source/CloudWatchLogsErrorMarshaller.cpp',
    'source/CloudWatchLogsErrors.cpp',
    'source/CloudWatchLogsRequest.cpp',
    'source/model/AccountPolicy.cpp',
    'source/model/AddKeyEntry.cpp',
    'source/model/AddKeys.cpp',
    'source/model/Anomaly.cpp',
    'source/model/AnomalyDetector.cpp',
    'source/model/AnomalyDetectorStatus.cpp',
    'source/model/AssociateKmsKeyRequest.cpp',
    'source/model/CSV.cpp',
    'source/model/CancelExportTaskRequest.cpp',
    'source/model/ConfigurationTemplate.cpp',
    'source/model/ConfigurationTemplateDeliveryConfigValues.cpp',
    'source/model/CopyValue.cpp',
    'source/model/CopyValueEntry.cpp',
    'source/model/CreateDeliveryRequest.cpp',
    'source/model/CreateDeliveryResult.cpp',
    'source/model/CreateExportTaskRequest.cpp',
    'source/model/CreateExportTaskResult.cpp',
    'source/model/CreateLogAnomalyDetectorRequest.cpp',
    'source/model/CreateLogAnomalyDetectorResult.cpp',
    'source/model/CreateLogGroupRequest.cpp',
    'source/model/CreateLogStreamRequest.cpp',
    'source/model/DataAlreadyAcceptedException.cpp',
    'source/model/DataProtectionStatus.cpp',
    'source/model/DateTimeConverter.cpp',
    'source/model/DeleteAccountPolicyRequest.cpp',
    'source/model/DeleteDataProtectionPolicyRequest.cpp',
    'source/model/DeleteDeliveryDestinationPolicyRequest.cpp',
    'source/model/DeleteDeliveryDestinationRequest.cpp',
    'source/model/DeleteDeliveryRequest.cpp',
    'source/model/DeleteDeliverySourceRequest.cpp',
    'source/model/DeleteDestinationRequest.cpp',
    'source/model/DeleteIndexPolicyRequest.cpp',
    'source/model/DeleteIndexPolicyResult.cpp',
    'source/model/DeleteIntegrationRequest.cpp',
    'source/model/DeleteIntegrationResult.cpp',
    'source/model/DeleteKeys.cpp',
    'source/model/DeleteLogAnomalyDetectorRequest.cpp',
    'source/model/DeleteLogGroupRequest.cpp',
    'source/model/DeleteLogStreamRequest.cpp',
    'source/model/DeleteMetricFilterRequest.cpp',
    'source/model/DeleteQueryDefinitionRequest.cpp',
    'source/model/DeleteQueryDefinitionResult.cpp',
    'source/model/DeleteResourcePolicyRequest.cpp',
    'source/model/DeleteRetentionPolicyRequest.cpp',
    'source/model/DeleteSubscriptionFilterRequest.cpp',
    'source/model/DeleteTransformerRequest.cpp',
    'source/model/Delivery.cpp',
    'source/model/DeliveryDestination.cpp',
    'source/model/DeliveryDestinationConfiguration.cpp',
    'source/model/DeliveryDestinationType.cpp',
    'source/model/DeliverySource.cpp',
    'source/model/DescribeAccountPoliciesRequest.cpp',
    'source/model/DescribeAccountPoliciesResult.cpp',
    'source/model/DescribeConfigurationTemplatesRequest.cpp',
    'source/model/DescribeConfigurationTemplatesResult.cpp',
    'source/model/DescribeDeliveriesRequest.cpp',
    'source/model/DescribeDeliveriesResult.cpp',
    'source/model/DescribeDeliveryDestinationsRequest.cpp',
    'source/model/DescribeDeliveryDestinationsResult.cpp',
    'source/model/DescribeDeliverySourcesRequest.cpp',
    'source/model/DescribeDeliverySourcesResult.cpp',
    'source/model/DescribeDestinationsRequest.cpp',
    'source/model/DescribeDestinationsResult.cpp',
    'source/model/DescribeExportTasksRequest.cpp',
    'source/model/DescribeExportTasksResult.cpp',
    'source/model/DescribeFieldIndexesRequest.cpp',
    'source/model/DescribeFieldIndexesResult.cpp',
    'source/model/DescribeIndexPoliciesRequest.cpp',
    'source/model/DescribeIndexPoliciesResult.cpp',
    'source/model/DescribeLogGroupsRequest.cpp',
    'source/model/DescribeLogGroupsResult.cpp',
    'source/model/DescribeLogStreamsRequest.cpp',
    'source/model/DescribeLogStreamsResult.cpp',
    'source/model/DescribeMetricFiltersRequest.cpp',
    'source/model/DescribeMetricFiltersResult.cpp',
    'source/model/DescribeQueriesRequest.cpp',
    'source/model/DescribeQueriesResult.cpp',
    'source/model/DescribeQueryDefinitionsRequest.cpp',
    'source/model/DescribeQueryDefinitionsResult.cpp',
    'source/model/DescribeResourcePoliciesRequest.cpp',
    'source/model/DescribeResourcePoliciesResult.cpp',
    'source/model/DescribeSubscriptionFiltersRequest.cpp',
    'source/model/DescribeSubscriptionFiltersResult.cpp',
    'source/model/Destination.cpp',
    'source/model/DisassociateKmsKeyRequest.cpp',
    'source/model/Distribution.cpp',
    'source/model/Entity.cpp',
    'source/model/EntityRejectionErrorType.cpp',
    'source/model/EvaluationFrequency.cpp',
    'source/model/EventSource.cpp',
    'source/model/ExportTask.cpp',
    'source/model/ExportTaskExecutionInfo.cpp',
    'source/model/ExportTaskStatus.cpp',
    'source/model/ExportTaskStatusCode.cpp',
    'source/model/FieldIndex.cpp',
    'source/model/FieldsData.cpp',
    'source/model/FilterLogEventsRequest.cpp',
    'source/model/FilterLogEventsResult.cpp',
    'source/model/FilteredLogEvent.cpp',
    'source/model/FlattenedElement.cpp',
    'source/model/GetDataProtectionPolicyRequest.cpp',
    'source/model/GetDataProtectionPolicyResult.cpp',
    'source/model/GetDeliveryDestinationPolicyRequest.cpp',
    'source/model/GetDeliveryDestinationPolicyResult.cpp',
    'source/model/GetDeliveryDestinationRequest.cpp',
    'source/model/GetDeliveryDestinationResult.cpp',
    'source/model/GetDeliveryRequest.cpp',
    'source/model/GetDeliveryResult.cpp',
    'source/model/GetDeliverySourceRequest.cpp',
    'source/model/GetDeliverySourceResult.cpp',
    'source/model/GetIntegrationRequest.cpp',
    'source/model/GetIntegrationResult.cpp',
    'source/model/GetLogAnomalyDetectorRequest.cpp',
    'source/model/GetLogAnomalyDetectorResult.cpp',
    'source/model/GetLogEventsRequest.cpp',
    'source/model/GetLogEventsResult.cpp',
    'source/model/GetLogGroupFieldsRequest.cpp',
    'source/model/GetLogGroupFieldsResult.cpp',
    'source/model/GetLogObjectHandler.cpp',
    'source/model/GetLogObjectInitialResponse.cpp',
    'source/model/GetLogObjectRequest.cpp',
    'source/model/GetLogRecordRequest.cpp',
    'source/model/GetLogRecordResult.cpp',
    'source/model/GetQueryResultsRequest.cpp',
    'source/model/GetQueryResultsResult.cpp',
    'source/model/GetTransformerRequest.cpp',
    'source/model/GetTransformerResult.cpp',
    'source/model/Grok.cpp',
    'source/model/IndexPolicy.cpp',
    'source/model/IndexSource.cpp',
    'source/model/InheritedProperty.cpp',
    'source/model/InputLogEvent.cpp',
    'source/model/IntegrationDetails.cpp',
    'source/model/IntegrationStatus.cpp',
    'source/model/IntegrationSummary.cpp',
    'source/model/IntegrationType.cpp',
    'source/model/InvalidSequenceTokenException.cpp',
    'source/model/ListAnomaliesRequest.cpp',
    'source/model/ListAnomaliesResult.cpp',
    'source/model/ListIntegrationsRequest.cpp',
    'source/model/ListIntegrationsResult.cpp',
    'source/model/ListLogAnomalyDetectorsRequest.cpp',
    'source/model/ListLogAnomalyDetectorsResult.cpp',
    'source/model/ListLogGroupsForQueryRequest.cpp',
    'source/model/ListLogGroupsForQueryResult.cpp',
    'source/model/ListLogGroupsRequest.cpp',
    'source/model/ListLogGroupsResult.cpp',
    'source/model/ListTagsForResourceRequest.cpp',
    'source/model/ListTagsForResourceResult.cpp',
    'source/model/ListToMap.cpp',
    'source/model/LiveTailSessionLogEvent.cpp',
    'source/model/LiveTailSessionMetadata.cpp',
    'source/model/LiveTailSessionStart.cpp',
    'source/model/LiveTailSessionUpdate.cpp',
    'source/model/LogEvent.cpp',
    'source/model/LogGroup.cpp',
    'source/model/LogGroupClass.cpp',
    'source/model/LogGroupField.cpp',
    'source/model/LogGroupSummary.cpp',
    'source/model/LogStream.cpp',
    'source/model/LowerCaseString.cpp',
    'source/model/MalformedQueryException.cpp',
    'source/model/MetricFilter.cpp',
    'source/model/MetricFilterMatchRecord.cpp',
    'source/model/MetricTransformation.cpp',
    'source/model/MoveKeyEntry.cpp',
    'source/model/MoveKeys.cpp',
    'source/model/OCSFVersion.cpp',
    'source/model/OpenSearchApplication.cpp',
    'source/model/OpenSearchCollection.cpp',
    'source/model/OpenSearchDataAccessPolicy.cpp',
    'source/model/OpenSearchDataSource.cpp',
    'source/model/OpenSearchEncryptionPolicy.cpp',
    'source/model/OpenSearchIntegrationDetails.cpp',
    'source/model/OpenSearchLifecyclePolicy.cpp',
    'source/model/OpenSearchNetworkPolicy.cpp',
    'source/model/OpenSearchResourceConfig.cpp',
    'source/model/OpenSearchResourceStatus.cpp',
    'source/model/OpenSearchResourceStatusType.cpp',
    'source/model/OpenSearchWorkspace.cpp',
    'source/model/OrderBy.cpp',
    'source/model/OutputFormat.cpp',
    'source/model/OutputLogEvent.cpp',
    'source/model/ParseCloudfront.cpp',
    'source/model/ParseJSON.cpp',
    'source/model/ParseKeyValue.cpp',
    'source/model/ParsePostgres.cpp',
    'source/model/ParseRoute53.cpp',
    'source/model/ParseToOCSF.cpp',
    'source/model/ParseVPC.cpp',
    'source/model/ParseWAF.cpp',
    'source/model/PatternToken.cpp',
    'source/model/Policy.cpp',
    'source/model/PolicyScope.cpp',
    'source/model/PolicyType.cpp',
    'source/model/Processor.cpp',
    'source/model/PutAccountPolicyRequest.cpp',
    'source/model/PutAccountPolicyResult.cpp',
    'source/model/PutDataProtectionPolicyRequest.cpp',
    'source/model/PutDataProtectionPolicyResult.cpp',
    'source/model/PutDeliveryDestinationPolicyRequest.cpp',
    'source/model/PutDeliveryDestinationPolicyResult.cpp',
    'source/model/PutDeliveryDestinationRequest.cpp',
    'source/model/PutDeliveryDestinationResult.cpp',
    'source/model/PutDeliverySourceRequest.cpp',
    'source/model/PutDeliverySourceResult.cpp',
    'source/model/PutDestinationPolicyRequest.cpp',
    'source/model/PutDestinationRequest.cpp',
    'source/model/PutDestinationResult.cpp',
    'source/model/PutIndexPolicyRequest.cpp',
    'source/model/PutIndexPolicyResult.cpp',
    'source/model/PutIntegrationRequest.cpp',
    'source/model/PutIntegrationResult.cpp',
    'source/model/PutLogEventsRequest.cpp',
    'source/model/PutLogEventsResult.cpp',
    'source/model/PutMetricFilterRequest.cpp',
    'source/model/PutQueryDefinitionRequest.cpp',
    'source/model/PutQueryDefinitionResult.cpp',
    'source/model/PutResourcePolicyRequest.cpp',
    'source/model/PutResourcePolicyResult.cpp',
    'source/model/PutRetentionPolicyRequest.cpp',
    'source/model/PutSubscriptionFilterRequest.cpp',
    'source/model/PutTransformerRequest.cpp',
    'source/model/QueryCompileError.cpp',
    'source/model/QueryCompileErrorLocation.cpp',
    'source/model/QueryDefinition.cpp',
    'source/model/QueryInfo.cpp',
    'source/model/QueryLanguage.cpp',
    'source/model/QueryStatistics.cpp',
    'source/model/QueryStatus.cpp',
    'source/model/RecordField.cpp',
    'source/model/RejectedEntityInfo.cpp',
    'source/model/RejectedLogEventsInfo.cpp',
    'source/model/RenameKeyEntry.cpp',
    'source/model/RenameKeys.cpp',
    'source/model/ResourceConfig.cpp',
    'source/model/ResourcePolicy.cpp',
    'source/model/ResultField.cpp',
    'source/model/S3DeliveryConfiguration.cpp',
    'source/model/Scope.cpp',
    'source/model/SearchedLogStream.cpp',
    'source/model/SplitString.cpp',
    'source/model/SplitStringEntry.cpp',
    'source/model/StandardUnit.cpp',
    'source/model/StartLiveTailHandler.cpp',
    'source/model/StartLiveTailInitialResponse.cpp',
    'source/model/StartLiveTailRequest.cpp',
    'source/model/StartQueryRequest.cpp',
    'source/model/StartQueryResult.cpp',
    'source/model/State.cpp',
    'source/model/StopQueryRequest.cpp',
    'source/model/StopQueryResult.cpp',
    'source/model/SubscriptionFilter.cpp',
    'source/model/SubstituteString.cpp',
    'source/model/SubstituteStringEntry.cpp',
    'source/model/SuppressionPeriod.cpp',
    'source/model/SuppressionState.cpp',
    'source/model/SuppressionType.cpp',
    'source/model/SuppressionUnit.cpp',
    'source/model/TagResourceRequest.cpp',
    'source/model/TestMetricFilterRequest.cpp',
    'source/model/TestMetricFilterResult.cpp',
    'source/model/TestTransformerRequest.cpp',
    'source/model/TestTransformerResult.cpp',
    'source/model/TooManyTagsException.cpp',
    'source/model/TransformedLogRecord.cpp',
    'source/model/TrimString.cpp',
    'source/model/Type.cpp',
    'source/model/TypeConverter.cpp',
    'source/model/TypeConverterEntry.cpp',
    'source/model/UntagResourceRequest.cpp',
    'source/model/UpdateAnomalyRequest.cpp',
    'source/model/UpdateDeliveryConfigurationRequest.cpp',
    'source/model/UpdateDeliveryConfigurationResult.cpp',
    'source/model/UpdateLogAnomalyDetectorRequest.cpp',
    'source/model/UpperCaseString.cpp',
)

inc = include_directories('include')

if host_machine.system() == 'windows' and get_option('default_library') == 'shared'
    cpp_args = ['-DAWS_CLOUDWATCHLOGS_EXPORTS=1']
else
    cpp_args = []
endif

libaws_cpp_sdk_logs = library(
    'aws-cpp-sdk-logs',
    src,
    include_directories: inc,
    cpp_args: cpp_args + public_cpp_args,
    dependencies: [aws_cpp_sdk_core_dep],
    install: true,
    version: meson.project_version(),
)

aws_cpp_sdk_logs_dep = declare_dependency(
    include_directories: inc,
    link_with: libaws_cpp_sdk_logs,
    dependencies: [aws_cpp_sdk_core_dep],
    compile_args: public_cpp_args,
)

meson.override_dependency('aws-cpp-sdk-logs', aws_cpp_sdk_logs_dep)

pkgs += {
    'aws-cpp-sdk-logs': {
        'lib': libaws_cpp_sdk_logs,
        'extra_cflags': public_cpp_args,
    }
}
